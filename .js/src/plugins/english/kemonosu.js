var e=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},t=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=require("@libs/fetch"),o=require("@libs/novelStatus"),i=n(require("dayjs")),s=function(){function n(){this.id="kemonosu",this.name="kemono.su",this.version="1.0.6",this.site="https://kemono.su/",this.api=this.site+"api/v1/",this.icon="src/en/kemonosu/icon.png",this.path_of_ascension_cover="https://static.wikia.nocookie.net/empirenet/images/7/79/The_Path_of_Ascension_cover.jpg"}return n.prototype.sleep=function(n){return e(this,void 0,void 0,(function(){return t(this,(function(e){return[2,new Promise((function(e){return setTimeout(e,n)}))]}))}))},n.prototype.popularNovels=function(){return e(this,void 0,void 0,(function(){var e,n;return t(this,(function(t){return e=[],n={name:"The Path of Ascension",path:"patreon/user/47400827",cover:this.path_of_ascension_cover},e.push(n),[2,e]}))}))},n.prototype.searchNovels=function(n){return e(this,void 0,void 0,(function(){var e,r;return t(this,(function(t){return e=[],r={name:"The Path of Ascension",path:"patreon/user/47400827",cover:this.path_of_ascension_cover},(n.toLowerCase().includes("path")||n.toLowerCase().includes("ascension"))&&e.push(r),[2,e]}))}))},n.prototype.parseNovel=function(n){return e(this,void 0,void 0,(function(){var e,s,a,u,c,h;return t(this,(function(t){switch(t.label){case 0:return[4,(0,r.fetchApi)(this.api+n+"/posts-legacy")];case 1:return[4,t.sent().json()];case 2:e=t.sent(),(s={path:n,name:"The Path of Ascension",cover:this.path_of_ascension_cover,summary:"The story follows Matt, a young man planning to delve the rifts responsible for the monsters that destroyed his city and killed his parents. His dreams are crushed when his Tier 1 Talent is rated as detrimental, and no guild or group will take him.\nWorking at a nearby inn, he meets a mysterious and powerful couple. They give him a chance to join The Path of Ascension, an empire wide race to ascend the Tiers and become living legends.\nWith their recommendation and a stolen skill, Matt begins his journey to the peak of power.",chapters:[]}).status=o.NovelStatus.Ongoing,s.author="C. Mantis",s.genres="progression fantasy, action, adventure, fantasy, romance",a=[],u=e.props.count,c=Math.floor(u/50),h=0,t.label=3;case 3:return h<=c?[4,(0,r.fetchApi)(this.api+n+"?o="+50*h)]:[3,7];case 4:return[4,t.sent().json()];case 5:t.sent().forEach((function(e){var t=e.title,r=/^Chapter (\d+)$/.exec(t);if(r){var o=parseInt(r[1],10),s=(0,i.default)(e.published).toISOString(),u=n+"/post/"+e.id;a.push({name:t,chapterNumber:o,releaseTime:s,path:u})}})),this.sleep(500),t.label=6;case 6:return h++,[3,3];case 7:return s.chapters=a.reverse(),[2,s]}}))}))},n.prototype.parseChapter=function(n){return e(this,void 0,void 0,(function(){return t(this,(function(e){switch(e.label){case 0:return[4,(0,r.fetchApi)(this.api+n)];case 1:return[4,e.sent().json()];case 2:return[2,e.sent().post.content]}}))}))},n}();exports.default=new s;